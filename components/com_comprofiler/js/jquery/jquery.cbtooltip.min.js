!function(t){function e(t,e){if(e.elements.tooltip){e.elements.content.css("height",""),e.elements.content.css("max-height","");var i=e.elements.tooltip.height();if(i)if(e.elements.titlebar){e.elements.titlebar.css("height",""),e.elements.titlebar.css("max-height","");var n=e.elements.titlebar.outerHeight(!0);n&&(e.elements.titlebar.css("height","100%"),e.elements.titlebar.css("max-height",n),e.elements.content&&(e.elements.content.css("height","100%"),e.elements.content.css("max-height",i-n)))}else e.elements.content&&(e.elements.content.css("height","100%"),e.elements.content.css("max-height",i))}}var i=[],n={init:function(n){return this.each(function(){var o=this,s=t(o).data("cbtooltip");if(!s&&(s={},s.options="undefined"!=typeof n?n:{},s.defaults=t.fn.cbtooltip.defaults,s.settings=t.extend(!0,{},s.defaults,s.options),s.element=t(o),s.settings.useData&&t.each(s.defaults,function(t){if("init"!=t&&"id"!=t&&"useData"!=t){var e=s.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1));"undefined"!=typeof e?-1!==t.indexOf("classes")?s.settings[t]+=" "+e:s.settings[t]=e:(e=s.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),"undefined"!=typeof e&&(-1!==t.indexOf("classes")?s.settings[t]+=" "+e:s.settings[t]=e))}}),s.element.triggerHandler("cbtooltip.init.before",[s]),s.element.parents('.cbTooltip,[data-hascbtooltip="true"]').length&&(s.settings.init=!1),s.settings.init)){var l=null!=s.settings.clone?s.settings.clone?!0:!1:!0,a=null!=s.settings.modal&&s.settings.modal?!0:!1,p=null!=s.settings.dialog&&s.settings.dialog?!0:!1,c=null!=s.settings.menu&&s.settings.menu?!0:!1,r=null!=s.settings.buttonHide&&s.settings.buttonHide?!0:!1,g=s.settings.tooltipTarget&&t(s.settings.tooltipTarget).length?l||s.settings.keepAlive?null:t(s.settings.tooltipTarget):null,d=g&&g.length?g.parent():null;a||p?c=!1:c&&(a=!1,p=!1,s.settings.width!=s.element.data("width")&&(s.settings.width=null)),s.tooltip=s.element.qtip({id:s.settings.id,overwrite:!0,content:{text:s.settings.tooltipTarget&&t(s.settings.tooltipTarget).length?l?t(s.settings.tooltipTarget).clone(!0):t(s.settings.tooltipTarget):s.settings.tooltip?s.settings.tooltip:null,title:s.settings.titleTarget&&t(s.settings.titleTarget).length?l?t(s.settings.titleTarget).clone(!0):t(s.settings.titleTarget):s.settings.title?s.settings.title:null,button:s.settings.openEvent&&-1!==s.settings.openEvent.indexOf("click")||a||p?r||c?!1:s.settings.buttonClose:!1},position:{container:s.settings.container?t(s.settings.container).length?t(s.settings.container):s.settings.container:!1,viewport:s.settings.viewport?t(s.settings.viewport).length?t(s.settings.viewport):s.settings.viewport:t(window),my:s.settings.positionMy?s.settings.positionMy:a||p?"center":"top left",at:s.settings.positionAt?s.settings.positionAt:c?"bottom left":a||p?"center":"bottom right",target:s.settings.positionTarget?"mouse"==s.settings.positionTarget?"mouse":t(s.settings.positionTarget).length?t(s.settings.positionTarget):!1:a||p?t(window):!1,adjust:{x:null!=s.settings.adjustX?s.settings.adjustX:0,y:null!=s.settings.adjustY?s.settings.adjustY:c?5:0,scroll:null!=s.settings.adjustScroll?s.settings.adjustScroll:!0,resize:null!=s.settings.adjustResize?s.settings.adjustResize:!0,method:s.settings.adjustMethod?s.settings.adjustMethod:"shift flipinvert"},effect:!1},show:{ready:null!=s.settings.openReady?s.settings.openReady:p,target:s.settings.openTarget&&t(s.settings.openTarget).length?t(s.settings.openTarget):!1,event:s.settings.openEvent?s.settings.openEvent:a||p?"click":"mouseenter click",solo:null!=s.settings.openSolo?t(s.settings.openSolo).length?t(s.settings.openSolo):s.settings.openSolo:!1,delay:null!=s.settings.openDelay?s.settings.openDelay:0,modal:{on:a,escape:!1,blur:!1}},hide:{target:s.settings.closeTarget&&t(s.settings.closeTarget).length?t(s.settings.closeTarget):!1,event:s.settings.closeEvent?s.settings.closeEvent:a||p?"none":"mouseleave unfocus",fixed:null!=s.settings.closeFixed?s.settings.closeFixed:c||a||p,delay:null!=s.settings.closeDelay?s.settings.closeDelay:c?200:0,distance:null!=s.settings.closeDistance?s.settings.closeDistance:!1,leave:null!=s.settings.closeLeave?s.settings.closeLeave:"window",inactive:null!=s.settings.closeInactive?s.settings.closeInactive:!1},style:{width:null!=s.settings.width?s.settings.width:!1,height:null!=s.settings.height?s.settings.height:!1,tip:{corner:null!=s.settings.tipHide?s.settings.tipHide?!1:!0:!(c||a||p),width:null!=s.settings.tipWidth?s.settings.tipWidth:6,height:null!=s.settings.tipHeight?s.settings.tipHeight:6,offset:null!=s.settings.tipOffset?s.settings.tipOffset:0},classes:(s.settings.classes?s.settings.classes:"")+(c?" qtip-menu":"")+(a?" qtip-modal":"")+(p?" qtip-dialog":"")},events:{render:function(e,i){if(s.element.triggerHandler("cbtooltip.render",[s,e,i]),t(i.elements.content).find('.cbTooltip,[data-hascbtooltip="true"]').each(function(){t(this).cbtooltip(s.options)}),c&&t(i.elements.content).on("click",function(){i.toggle(!1)}),i.elements.tooltip){var n=t(window).width()-50,o=i.elements.tooltip.width();o>n&&i.set("style.width",n)}i.elements.overlay&&(t(document).off("keydown.qtip-modal"),i.elements.overlay.off("click.qtip-modal"),i.elements.overlay.on("click",function(){i.toggle(!1)})),t(i.elements.content).on("click",".cbTooltipClose",function(t){t.preventDefault(),i.toggle(!1)})},show:function(e,i){s.element.triggerHandler("cbtooltip.show",[s,e,i]),s.settings.closeClasses&&t(i.elements.target).removeClass(s.settings.closeClasses),s.settings.openClasses&&t(i.elements.target).addClass(s.settings.openClasses)},hide:function(e,i){s.element.triggerHandler("cbtooltip.hide",[s,e,i]),s.settings.openClasses&&t(i.elements.target).removeClass(s.settings.openClasses),s.settings.closeClasses&&t(i.elements.target).addClass(s.settings.closeClasses),g&&g.length&&d.append(g)},toggle:function(t,e){s.element.triggerHandler("cbtooltip.toggle",[s,t,e])},visible:function(t,i){s.element.triggerHandler("cbtooltip.visible",[s,t,i]),a&&e.call(o,s,i)},hidden:function(t,e){s.element.triggerHandler("cbtooltip.hidden",[s,t,e]),p?(s.element.cbtooltip("destroy"),s.element.remove()):s.settings.keepAlive||(s.options.id=e.get("id"),s.element.cbtooltip("destroy"),s.element.cbtooltip(s.options))},move:function(t,i){a&&e.call(o,s,i),s.element.triggerHandler("cbtooltip.move",[s,t,i])},focus:function(t,e){s.element.triggerHandler("cbtooltip.focus",[s,t,e])},blur:function(t,e){s.element.triggerHandler("cbtooltip.blur",[s,t,e])}}}),s.element.on("remove destroy.cbtooltip",function(){s.element.cbtooltip("destroy")}),s.element.on("rebind.cbtooltip",function(){s.element.cbtooltip("rebind")}),s.element.on("modified.cbtooltip",function(e,i,n){if(i!=n){var o=["tooltip-target","title-target","open-target","close-target","position-target"];t.each(o,function(t,e){var o=s.element.attr("data-cbtooltip-"+e);"undefined"!=typeof o&&s.element.attr("data-cbtooltip-"+e,o.replace(i,n));var l=s.element.data("cbtooltip-"+e);"undefined"!=typeof l&&s.element.data("cbtooltip-"+e,l.replace(i,n))}),s.element.cbtooltip("rebind")}}),s.element.on("cloned.cbtooltip",function(){t(this).off("destroy.cbtooltip"),t(this).off("rebind.cbtooltip"),t(this).off("cloned.cbtooltip"),t(this).off("modified.cbtooltip");var e=t(this).data("qtip")._id;t(this).removeData("cbtooltip"),t(this).removeData("hasqtip"),t(this).removeData("qtip"),t(this).removeAttr("data-hasqtip"),t(this).off("."+e),t(this).cbtooltip(s.options)}),s.element.triggerHandler("cbtooltip.init.after",[s]),s.element.data("cbtooltip",s),i.push(s)}})},get:function(e){var i=t(this).data("cbtooltip");return i?i.tooltip.qtip("api").get(e):null},set:function(e,i){var n=t(this).data("cbtooltip");return n?(n.tooltip.qtip("api").set(e,i),this):this},toggle:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").toggle(),this):this},show:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").toggle(!0),this):this},hide:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").toggle(!1),this):this},enable:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").disable(!1),e.element.triggerHandler("cbtooltip.enable",[e]),this):this},disable:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").disable(!0),e.element.triggerHandler("cbtooltip.disable",[e]),this):this},reposition:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").reposition(),this):this},focus:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").focus(),this):this},blur:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").blur(),this):this},rebind:function(){var e=t(this).data("cbtooltip");return e?(e.element.cbtooltip("destroy"),e.element.cbtooltip(e.options),this):this},destroy:function(){var e=t(this).data("cbtooltip");return e?(e.tooltip.qtip("api").destroy(!0),e.element.off("destroy.cbtooltip"),e.element.off("rebind.cbtooltip"),e.element.off("cloned.cbtooltip"),e.element.off("modified.cbtooltip"),t.each(i,function(t,n){return n.element==e.element?(i.splice(t,1),!1):!0}),e.element.removeData("cbtooltip"),e.element.triggerHandler("cbtooltip.destroyed",[e]),this):this},instances:function(){return i}};t.cbconfirm=function(e,i){var o=t.Deferred(),s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e),s.data("cbtooltip-dialog",!0),s.data("cbtooltip-button-hide",!0),s.data("cbtooltip-width",!1),s.on("cbtooltip.render",function(e,i,n,s){t(s.elements.content).on("click",".cbTooltipButtonYes",function(){o.resolve("yes")})}).on("cbtooltip.hidden",function(){"resolved"!=o.state()&&o.reject("no")});var l=n.init.apply(s,[i]),a=l.data("cbtooltip");return a&&(a.settings.buttonYes||a.settings.buttonNo)&&(e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;">'+(a.settings.buttonYes?'<button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button>":"")+(a.settings.buttonNo?' <button class="cbTooltipButtonNo btn btn-xs btn-default cbTooltipClose">'+a.settings.buttonNo+"</button>":"")+"</div>",l.cbtooltip("set","content.text",e)),o.promise()},t.cbprompt=function(e,i){var o=t.Deferred(),s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e),s.data("cbtooltip-dialog",!0),s.data("cbtooltip-button-hide",!0),s.data("cbtooltip-width",!1),s.on("cbtooltip.hidden",function(){o.resolve("yes")});var l=n.init.apply(s,[i]),a=l.data("cbtooltip");return a&&a.settings.buttonYes&&(e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;"><button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button></div>",l.cbtooltip("set","content.text",e)),o.promise()},t.cbdialog=function(e,i){var o=t("<div />").appendTo("body");return o.data("cbtooltip-tooltip",e),o.data("cbtooltip-dialog",!0),o.data("cbtooltip-width",!1),n.init.apply(o,[i])},t.cbmodal=function(e,i){var o=t("<div />").appendTo("body");return o.data("cbtooltip-tooltip",e),o.data("cbtooltip-modal",!0),o.data("cbtooltip-dialog",!0),o.data("cbtooltip-width",!1),n.init.apply(o,[i])},t.fn.cbtooltip=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:n.init.apply(this,arguments)},t.fn.cbtooltip.defaults={init:!0,useData:!0,id:null,tooltip:null,tooltipTarget:null,title:null,titleTarget:null,openReady:null,openEvent:null,openTarget:null,openClasses:null,openSolo:null,openDelay:null,closeEvent:null,closeTarget:null,closeClasses:null,closeFixed:null,closeDelay:null,closeDistance:null,closeLeave:null,closeInactive:null,buttonHide:null,buttonClose:null,buttonYes:null,buttonNo:null,width:null,height:null,modal:null,dialog:null,menu:null,clone:null,classes:null,container:null,viewport:null,positionMy:null,positionAt:null,positionTarget:null,adjustX:null,adjustY:null,adjustScroll:null,adjustResize:null,adjustMethod:null,tipHide:null,tipWidth:null,tipHeight:null,tipOffset:null,keepAlive:null}}(jQuery);